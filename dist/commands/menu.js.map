{"version":3,"sources":["../../src/commands/menu.ts"],"sourcesContent":["import type {\n  CommandInteraction,\n  MessageActionRowComponentBuilder,\n  SelectMenuInteraction,\n} from \"discord.js\";\nimport { ActionRowBuilder, SelectMenuBuilder } from \"discord.js\";\nimport { Discord, SelectMenuComponent, Slash } from \"discordx\";\n\nconst roles = [\n  { label: \"Principal\", value: \"principal\" },\n  { label: \"Teacher\", value: \"teacher\" },\n  { label: \"Student\", value: \"student\" },\n];\n\n@Discord()\nexport class Example {\n  @SelectMenuComponent({ id: \"role-menu\" })\n  async handle(interaction: SelectMenuInteraction): Promise<unknown> {\n    await interaction.deferReply();\n\n    // extract selected value by member\n    const roleValue = interaction.values?.[0];\n\n    // if value not found\n    if (!roleValue) {\n      return interaction.followUp(\"invalid role id, select again\");\n    }\n\n    await interaction.followUp(\n      `you have selected role: ${\n        roles.find((r) => r.value === roleValue)?.label ?? \"unknown\"\n      }`\n    );\n    return;\n  }\n\n  @Slash({ description: \"roles menu\", name: \"my_roles\" })\n  async myRoles(interaction: CommandInteraction): Promise<unknown> {\n    await interaction.deferReply();\n\n    // create menu for roles\n    const menu = new SelectMenuBuilder()\n      .addOptions(roles)\n      .setCustomId(\"role-menu\");\n\n    // create a row for message actions\n    const buttonRow =\n      new ActionRowBuilder<MessageActionRowComponentBuilder>().addComponents(\n        menu\n      );\n\n    // send it\n    interaction.editReply({\n      components: [buttonRow],\n      content: \"select your role!\",\n    });\n    return;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,qBAAoD;AACpD,sBAAoD;AAEpD,MAAM,QAAQ;AAAA,EACZ,EAAE,OAAO,aAAa,OAAO,YAAY;AAAA,EACzC,EAAE,OAAO,WAAW,OAAO,UAAU;AAAA,EACrC,EAAE,OAAO,WAAW,OAAO,UAAU;AACvC;AAGO,IAAM,UAAN,MAAc;AAAA,EAEnB,MAAM,OAAO,aAAsD;AACjE,UAAM,YAAY,WAAW;AAG7B,UAAM,YAAY,YAAY,SAAS,CAAC;AAGxC,QAAI,CAAC,WAAW;AACd,aAAO,YAAY,SAAS,+BAA+B;AAAA,IAC7D;AAEA,UAAM,YAAY;AAAA,MAChB,2BACE,MAAM,KAAK,CAAC,MAAM,EAAE,UAAU,SAAS,GAAG,SAAS,SACrD;AAAA,IACF;AACA;AAAA,EACF;AAAA,EAGA,MAAM,QAAQ,aAAmD;AAC/D,UAAM,YAAY,WAAW;AAG7B,UAAM,OAAO,IAAI,iCAAkB,EAChC,WAAW,KAAK,EAChB,YAAY,WAAW;AAG1B,UAAM,YACJ,IAAI,gCAAmD,EAAE;AAAA,MACvD;AAAA,IACF;AAGF,gBAAY,UAAU;AAAA,MACpB,YAAY,CAAC,SAAS;AAAA,MACtB,SAAS;AAAA,IACX,CAAC;AACD;AAAA,EACF;AACF;AA3CqB;AAEb;AAAA,MADL,qCAAoB,EAAE,IAAI,YAAY,CAAC;AAAA,GAD7B,QAEL;AAoBA;AAAA,MADL,uBAAM,EAAE,aAAa,cAAc,MAAM,WAAW,CAAC;AAAA,GArB3C,QAsBL;AAtBK,UAAN;AAAA,MADN,yBAAQ;AAAA,GACI;","names":[]}